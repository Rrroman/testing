(this["webpackJsonpsnake-react-game"]=this["webpackJsonpsnake-react-game"]||[]).push([[0],{17:function(e,t,s){e.exports={fruit:"Fruit_fruit__32-aM"}},3:function(e,t,s){e.exports={app:"App_app__1fB2b",app__field:"App_app__field__1jCqw",music:"App_music__2K5B8",music__player:"App_music__player__2nfZB"}},36:function(e,t,s){},4:function(e,t,s){e.exports={snake__piece:"Snake_snake__piece__1ePKK",snake__head:"Snake_snake__head__Ibk3i",snake__head_dead:"Snake_snake__head_dead__31w_8"}},44:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s.n(a),n=s(7),o=s.n(n),c=(s(36),s(9)),r=s(15),l=s(16),_=s(30),u=s(29),d=s(3),S=s.n(d),h=s(4),m=s.n(h),I={SIZE:4,FIELD_SIZE:"600px",SPEED:150,SPEED_FAST:50,SPEED_STEP:10,MAX_POSITION:98,MIN_POSITION:1,TOP:"TOP",RIGHT:"RIGHT",LEFT:"LEFT",BOTTOM:"BOTTOM",SPACE_BETWEEN_SNAKE_PIECES:2,STARTING_SNAKE_POSITION:[[0,0],[2,0],[4,0]],FRUIT_POSITION:function(){return[Math.floor((Math.random()*I.MAX_POSITION+I.MIN_POSITION)/I.SIZE)*I.SIZE,Math.floor((Math.random()*I.MAX_POSITION+I.MIN_POSITION)/I.SIZE)*I.SIZE]}},O=I,P=s(1),E=function(e){return Object(P.jsx)("div",{children:e.snakePosition.map((function(t,s,a){var i={left:"".concat(t[0],"%"),top:"".concat(t[1],"%"),width:"".concat(e.size,"%"),height:"".concat(e.size,"%"),transform:"".concat(e.direction===O.LEFT?"rotate(90deg)":e.direction===O.TOP?"rotate(180deg)":e.direction===O.RIGHT?"rotate(270deg)":"rotate(0deg)")};return s===a.length-1?Object(P.jsx)("div",{className:"".concat(m.a.snake__piece," ").concat(m.a.snake__head," ").concat(e.isGameOver?m.a.snake__head_dead:""),style:i},s):Object(P.jsx)("div",{className:m.a.snake__piece,style:i},s)}))})},v=s(17),k=s.n(v),p=function(e){var t={left:"".concat(e.fruitPosition[0],"%"),top:"".concat(e.fruitPosition[1],"%"),width:"".concat(e.size,"%"),height:"".concat(e.size,"%")};return Object(P.jsx)("div",{className:k.a.fruit,style:t})},T=s(5),f=s.n(T),b=s(18),j=s.n(b),G=s(28),N=s.n(G),g=function(e){var t=e.isVolume?Object(P.jsx)(j.a,{style:{color:"white"}}):Object(P.jsx)(N.a,{style:{color:"white"}});return Object(P.jsxs)("div",{className:f.a.controls__wrapper,children:[Object(P.jsxs)("div",{className:f.a.controls__score,children:["Score: ",e.score]}),Object(P.jsx)("button",{onClick:e.clicked,className:f.a["controls__start-btn"],children:"Start Game"}),Object(P.jsx)("button",{onClick:e.volumeToggle,className:f.a.controls__volume,children:t})]})},A=s.p+"static/media/bite.1e6ccb0d.mp3",w=function(e){Object(_.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={snakePosition:O.STARTING_SNAKE_POSITION,direction:O.RIGHT,speed:O.SPEED,fruitPosition:O.FRUIT_POSITION(),isGameOver:!1,isGamePause:!0,score:0,isVolume:!0},e.audio=new Audio(A),e.fieldStyles={maxWidth:"".concat(O.FIELD_SIZE),height:"".concat(O.FIELD_SIZE)},e.moveSnake=function(){if(e.state.isGameOver){clearInterval(e.state.intervalId);var t=setInterval(e.moveSnake,e.state.speed);e.setState({intervalId:t,isGameOver:!1,speed:O.SPEED})}var s=Object(c.a)(e.state.snakePosition),a=s[s.length-1];switch(e.state.direction){case O.LEFT:a=[a[0]-O.SPACE_BETWEEN_SNAKE_PIECES,a[1]];break;case O.TOP:a=[a[0],a[1]-O.SPACE_BETWEEN_SNAKE_PIECES];break;case O.RIGHT:a=[a[0]+O.SPACE_BETWEEN_SNAKE_PIECES,a[1]];break;case O.BOTTOM:a=[a[0],a[1]+O.SPACE_BETWEEN_SNAKE_PIECES]}s.push(a),s.shift(),e.setState({snakePosition:s})},e.checkWallSmash=function(){var t=e.state.snakePosition[e.state.snakePosition.length-1];(t[0]<0||t[0]>=O.MAX_POSITION||t[1]<0||t[1]>=O.MAX_POSITION)&&e.isGameOver()},e.checkSnakeBiteItSelf=function(){var t=Object(c.a)(e.state.snakePosition),s=t[t.length-1];t.pop(),t.forEach((function(t){s[0]===t[0]&&s[1]===t[1]&&e.isGameOver()}))},e.checkEatFruit=function(){var t=e.state.snakePosition[e.state.snakePosition.length-1],s=e.state.fruitPosition;if(t[0]===s[0]&&t[1]===s[1]){e.setState((function(t){return t.speed>O.SPEED_FAST?{fruitPosition:O.FRUIT_POSITION(),speed:t.speed-O.SPEED_STEP,score:e.state.snakePosition.length*O.SPEED_STEP}:{fruitPosition:O.FRUIT_POSITION(),speed:t.speed-1,score:t.snakePosition.length*O.SPEED_STEP}})),clearInterval(e.state.intervalId);var a=setInterval(e.moveSnake,e.state.speed);e.setState({intervalId:a}),e.snakeGrow(),e.state.isVolume&&(e.audio.currentTime=0,e.audio.play())}},e.snakeGrow=function(){var t=Object(c.a)(e.state.snakePosition);t.unshift([]),e.setState({snakePosition:t})},e.isGamePauseToggle=function(){if(e.state.isGamePause)clearInterval(e.state.intervalId),e.setState({isGamePause:!0});else if(!e.state.isGamePause){var t=setInterval(e.moveSnake,e.state.speed);e.setState({intervalId:t,isGamePause:!1})}},e.isGameOver=function(){e.setState({snakePosition:O.STARTING_SNAKE_POSITION,direction:O.RIGHT,speed:O.SPEED,isGameOver:!0}),clearInterval(e.state.intervalId)},e.startGameHandler=function(){if(e.state.isGameOver||e.state.isGamePause){var t=setInterval(e.moveSnake,e.state.speed);e.setState({intervalId:t,isGameOver:!1,isGamePause:!1,score:0})}},e.volumeToggleHandler=function(){e.setState((function(e){return{isVolume:!e.isVolume}}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.keydownHandler.bind(this))}},{key:"componentDidUpdate",value:function(){this.checkWallSmash(),this.checkSnakeBiteItSelf(),this.checkEatFruit()}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"keydownHandler",value:function(e){switch(e.keyCode){case 37:case 65:this.state.direction===O.RIGHT||this.state.isGamePause||this.state.isGameOver||(this.setDirection(O.LEFT),this.moveSnake());break;case 38:case 87:this.state.direction===O.BOTTOM||this.state.isGamePause||this.state.isGameOver||(this.setState({direction:O.TOP}),this.moveSnake());break;case 39:case 68:this.state.direction===O.LEFT||this.state.isGamePause||this.state.isGameOver||(this.setState({direction:O.RIGHT}),this.moveSnake());break;case 40:case 83:this.state.direction===O.TOP||this.state.isGamePause||this.state.isGameOver||(this.setState({direction:O.BOTTOM}),this.moveSnake());break;case 27:this.setState((function(e){return{isGamePause:!e.isGamePause}})),this.isGamePauseToggle()}}},{key:"setDirection",value:function(e){this.setState({direction:e})}},{key:"render",value:function(){return Object(P.jsxs)("div",{className:S.a.app,children:[Object(P.jsx)(g,{clicked:this.startGameHandler.bind(this),score:this.state.score,isVolume:this.state.isVolume,volumeToggle:this.volumeToggleHandler}),Object(P.jsxs)("div",{className:S.a.app__field,style:this.fieldStyles,children:[Object(P.jsx)(E,{snakePosition:this.state.snakePosition,direction:this.state.direction,isGameOver:this.state.isGameOver,size:O.SIZE}),Object(P.jsx)(p,{fruitPosition:this.state.fruitPosition,size:O.SIZE})]}),Object(P.jsx)("div",{className:S.a.music,children:Object(P.jsx)("iframe",{title:"music",width:"100%",height:"100%",src:"https://www.youtube.com/embed/DIi-pBpXIbE",frameBorder:"0",allow:"accelerometer; autoplay;",allowFullScreen:!0,className:S.a.music__player})})]})}}]),s}(a.Component),y=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,56)).then((function(t){var s=t.getCLS,a=t.getFID,i=t.getFCP,n=t.getLCP,o=t.getTTFB;s(e),a(e),i(e),n(e),o(e)}))};o.a.render(Object(P.jsx)(i.a.StrictMode,{children:Object(P.jsx)(w,{})}),document.getElementById("root")),y()},5:function(e,t,s){e.exports={controls__wrapper:"Controls_controls__wrapper__3j6Y5",controls__score:"Controls_controls__score__2euP4","controls__start-btn":"Controls_controls__start-btn__oq8_k",controls__volume:"Controls_controls__volume__3uMnL"}}},[[44,1,2]]]);
//# sourceMappingURL=main.ae92bc7e.chunk.js.map